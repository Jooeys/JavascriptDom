try to rebuild with MVC design pattern;
